(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{287:function(t,s,e){"use strict";e.r(s);var a=e(13),n=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_22-07-19"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_22-07-19"}},[t._v("#")]),t._v(" 22-07-19")]),t._v(" "),s("h2",{attrs:{id:"firebase로-github-인증-signinwithpopup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#firebase로-github-인증-signinwithpopup"}},[t._v("#")]),t._v(" Firebase로 GitHub 인증 (signInWithPopup)")]),t._v(" "),s("p",[t._v("프로젝트에 Firebase가 추가 되어있음을 전제로 시작(Firebase 초기화, 앱 객체 생성 "),s("a",{attrs:{href:"https://firebase.google.com/docs/web/setup?authuser=0&hl=ko#add-sdks-initialize",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("공식 문서 참고")]),s("OutboundLink")],1),t._v(")")]),t._v(" "),s("p",[t._v("GitHub "),s("code",[t._v("Settings > Developer settings > OAuth Apps")]),t._v(" 에서 "),s("code",[t._v("new OAuthApp")]),t._v("을 등록한다.\n"),s("br"),t._v("\n등록할 때는 "),s("a",{attrs:{href:"https://firebase.google.com/docs/auth/web/github-auth?hl=ko&authuser=0#before_you_begin",target:"_blank",rel:"noopener noreferrer"}},[t._v("Firebase 문서"),s("OutboundLink")],1),t._v("를 따라 설정을 해 주어야 한다.")]),t._v(" "),s("ul",[s("li",[t._v("✔️ Firebase console의 "),s("code",[t._v("Authentication")]),t._v("에서 제공해주는 콜백 URL로 콜백 URL을 등록하기")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" getAuth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" GithubAuthProvider"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" signInWithPopup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" signInWithPopup "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"firebase/auth"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// GitHub 제공 업체 객체의 인스턴스 생성")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" provider "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GithubAuthProvider")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 요청 scope 범위 추가 ")]),t._v("\nprovider"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addScope")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"read:user"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nprovider"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addScope")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user:email"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" auth "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("signInWithPopup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("auth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" provider"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("로그인 버튼을 눌렀을때 동작하도록 함수를 구성(onClick시 동작하는 핸들러)하면 회원으로 등록된다.\n"),s("br"),t._v("(Firebase "),s("code",[t._v("console > Authentication > users")]),t._v(" 에서 확인)")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("read:user")]),t._v("를 통해서 제공 받은 정보를 저장하는 방법이 있는지 확인해보기(사용자 표시 이름 등)")]),t._v(" "),s("ul",[s("li",[t._v("수동 저장 과정으로 진행해보면 될까?\n"),s("ul",[s("li",[t._v("일단 "),s("code",[t._v("tokenResponse")]),t._v("에 "),s("code",[t._v("displayName")]),t._v("으로 얻어올 수는 있음")])])]),t._v(" "),s("li",[t._v("Authentication이 아닌 "),s("code",[t._v("Firestore Database")]),t._v("에 저장하는 방식으로 진행해야 하나?")]),t._v(" "),s("li",[t._v("혹은 매번 GitHub API에 요청해야 할까?")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("signInWithRedirect")]),t._v("로는 제대로 진행이 되지 않음(등록도 되지 않고, tokenResponse등을 읽어오지도 못함)")]),t._v(" "),s("ul",[s("li",[t._v("이어서 확인해 보기")])])])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"reference"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[t._v("#")]),t._v(" Reference")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://firebase.google.com/docs/auth/web/github-auth?hl=ko&authuser=0",target:"_blank",rel:"noopener noreferrer"}},[t._v("자바스크립트에서 GitHub를 사용하여 인증"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://docs.github.com/en/developers/apps/building-oauth-apps/authorizing-oauth-apps#scopes",target:"_blank",rel:"noopener noreferrer"}},[t._v("Authorizing OAuth Apps"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=n.exports}}]);